# Spark defaults for Apache Polaris catalog
# Uses REST catalog type with Polaris endpoint and OAuth2 authentication

spark.sql.extensions                   org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.demo                 org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.demo.type            rest
spark.sql.catalog.demo.uri             http://polaris:8181/api/catalog
spark.sql.catalog.demo.warehouse       demo
# Don't use vended-credentials with MinIO (no STS support)
# spark.sql.catalog.demo.header.X-Iceberg-Access-Delegation  vended-credentials
# OAuth2 authentication for Polaris
spark.sql.catalog.demo.credential      root:secret
spark.sql.catalog.demo.scope           PRINCIPAL_ROLE:ALL
spark.sql.catalog.demo.token-refresh-enabled  true
spark.sql.defaultCatalog               demo
spark.eventLog.enabled                 true
spark.eventLog.dir                     /home/iceberg/spark-events
spark.history.fs.logDirectory          /home/iceberg/spark-events
spark.sql.catalogImplementation        in-memory
