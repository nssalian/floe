#
# Copyright 2026 The Floe Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# Integration test profile configuration
# Uses DevServices for PostgreSQL (Testcontainers under the hood)

# Database - use DevServices
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=postgres:16-alpine
quarkus.datasource.db-kind=postgresql

# Flyway migrations
quarkus.flyway.migrate-at-start=true

# Use Postgres policy store
floe.store.type=POSTGRES

# Disable auth for testing
floe.auth.enabled=false

# Engine config
floe.engine-type=TRINO
floe.catalog.type=REST
floe.catalog.uri=http://localhost:8181
floe.catalog.warehouse=s3://warehouse/

# Livy config (not used in integration tests, but required for validation)
floe.livy.url=http://localhost:8998
floe.livy.job.jar=local:///opt/floe/floe-maintenance-job.jar
floe.livy.job.main-class=com.floe.spark.job.MaintenanceJob

# Trino config
floe.trino.jdbc-url=jdbc:trino://localhost:8080

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.floe".level=OFF
